<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Empresas</title>



        <!-- Importação Bootstrap-->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
        
      
        
        <!-- Importação biblioteca de ícones -->
        <link rel="stylesheet" href="../css/font-awesome/css/font-awesome.min.css">
</head>

<body>

    <!DOCTYPE html>
    <html lang="en">
    
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Cadastro de Empresas</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
            crossorigin="anonymous">
    </head>
    
    <body>
    
        <div class="container mt-5">
            <h2 class="text-center mb-4">Cadastro de Empresas</h2>
            <form method="POST" action="/cadastrar_empresa" class="needs-validation" novalidate>
                <div class="form-group">
                    <label for="nomeEmpresa">Nome da Empresa</label>
                    <input type="text" class="form-control" id="nomeEmpresa" name="nomeEmpresa" required>
                    <div class="invalid-feedback">Por favor, insira o nome da empresa.</div>
                </div>
                <div class="form-group">
                    <label for="cnpj">CNPJ</label>
                    <input type="text" class="form-control" id="cnpj" name="cnpj" required>
                    <div class="invalid-feedback">Por favor, insira o CNPJ.</div>
                </div>
                <div class="form-group">
                    <label for="setor">Setor</label><br>
                    <!-- Exemplo de checkbox para um setor -->
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="eletronicos" name="setores" value="Eletrônicos">
                        <label class="form-check-label" for="eletronicos">Eletrônicos</label>
                    </div>
                    <!-- Adicione checkboxes para outros setores -->
                    <!-- ... -->
                    <div class="invalid-feedback d-block">Por favor, selecione pelo menos um setor.</div>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" class="form-control" id="email" name="email" required>
                    <div class="invalid-feedback">Por favor, insira um email válido.</div>
                </div>
                <div class="form-group">
                    <label for="senha">Senha</label>
                    <input type="password" class="form-control" id="senha" name="senha" required>
                    <div class="invalid-feedback">Por favor, insira uma senha.</div>
                </div>
              
<!-- selects aqui-->
    
        <div class="form-group">
            <label for="estado">Estado</label>
            <select class="form-control" id="estado" name="estado" required onchange="populateCities()">
                <option value="">Selecione o Estado</option>
            </select>
            <div class="invalid-feedback">Por favor, selecione o estado.</div>
        </div>
        <div class="form-group">
            <label for="cidade">Cidade</label>
            <select class="form-control" id="cidade" name="cidade" required>
                <option value="">Selecione a Cidade</option>
            </select>
            <div class="invalid-feedback">Por favor, selecione a cidade.</div>
        </div>
        <button type="submit" class="btn btn-primary">Cadastrar</button>
    </form>
</div>

<script>
    // Carregar o arquivo JSON de estados e cidades
    fetch('views/estados-cidades.json')
        .then(response => response.json())
        .then(data => {
            const estadoSelect = document.getElementById('estado');
            data.estados.forEach(estado => {
                const option = document.createElement('option');
                option.value = estado.sigla;
                option.textContent = estado.nome;
                estadoSelect.appendChild(option);
            });
        })
        .catch(error => console.error('Erro ao carregar JSON:', error));

    function populateCities() {
        const estadoSelect = document.getElementById('estado');
        const citySelect = document.getElementById('cidade');
        const selectedState = estadoSelect.value;

        fetch('views/estados-cidades.json')
            .then(response => response.json())
            .then(data => {
                citySelect.innerHTML = '<option value="">Selecione a Cidade</option>';

                const selectedStateData = data.estados.find(estado => estado.sigla === selectedState);
                if (selectedStateData) {
                    selectedStateData.cidades.forEach(city => {
                        const option = document.createElement('option');
                        option.value = city;
                        option.textContent = city;
                        citySelect.appendChild(option);
                    });
                }
            })
            .catch(error => console.error('Erro ao carregar JSON:', error));
    }
</script>






        <script>
            // Exemplo de validação de formulário usando Bootstrap (requer pelo menos um setor selecionado)
            (function () {
                'use strict';
                window.addEventListener('load', function () {
                    var form = document.querySelector('.needs-validation');
                    form.addEventListener('submit', function (event) {
                        var checkboxes = form.querySelectorAll('input[name="setores"]:checked');
                        if (checkboxes.length < 1) {
                            event.preventDefault();
                            event.stopPropagation();
                            form.querySelector('.invalid-feedback').style.display = 'block';
                        } else {
                            form.querySelector('.invalid-feedback').style.display = 'none';
                        }
                        form.classList.add('was-validated');
                    }, false);
                }, false);
            })();
        </script>
    </body>
    
    </html>
    
   